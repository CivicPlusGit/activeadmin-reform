language: ruby
rvm:
  - 2.2.2
  - ruby-head
env:
  matrix:
    - RAILS_VERSION=3.2 ACTIVEADMIN_GIT_REF=ba285ea2fc23ade108ed582134cae8c641f910a4
    - RAILS_VERSION=4.2.4 ACTIVEADMIN_GIT_REF=15eb4a05b2ee759b7d03ceaaa92d070986a1c282
    - RAILS_VERSION=master ACTIVEADMIN_GIT_REF=15eb4a05b2ee759b7d03ceaaa92d070986a1c282
matrix:
  allow_failures:
    - env: RAILS_VERSION=master ACTIVEADMIN_GIT_REF=15eb4a05b2ee759b7d03ceaaa92d070986a1c282
    - rvm: ruby-head
before_install: gem install bundler -v 1.10.6
install:
  - bundle install --retry=3
script:
  - bundle exec rake
  - bundle exec rubocop

addons:
  code_climate:
    repo_token: c326cca5984d0e32d2c6b5d9b985756ee9312f63fc6a9480fc9cfa55c454d68a
